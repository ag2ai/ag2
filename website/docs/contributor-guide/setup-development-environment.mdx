---
title: Setting up Development Environment
---

## Setting up LLM Keys

If you are contributing to the AG2 project, you will need credentials for one or more LLM providers, depending on the submodule you are working on.

### Preferred: Setting LLM Keys as Environment Variables

**AG2 will first look for provider-specific environment variables for API keys.** You should set the relevant environment variables for the LLMs you need. The most common ones are:

- `OPENAI_API_KEY` for OpenAI models
- `AZURE_OPENAI_API_KEY` for Azure OpenAI Service (requires `AZURE_OPENAI_API_BASE` and possibly `AZURE_OPENAI_API_VERSION`)
- `GEMINI_API_KEY` for Google Gemini
- `ANTHROPIC_API_KEY` for Anthropic
- `DEEPSEEK_API_KEY` for DeepSeek
- `CEREBRAS_API_KEY` for Cerebras
- Ollama and AWS Bedrock may require special handling; see below

**Examples:**

```bash
export OPENAI_API_KEY="<your_openai_api_key>"
export AZURE_OPENAI_API_KEY="<your_azure_openai_api_key>"
export AZURE_OPENAI_API_BASE="<your_azure_base_url>"
export GEMINI_API_KEY="<your_gemini_api_key>"
export ANTHROPIC_API_KEY="<your_anthropic_api_key>"
```

> ℹ️ If you have multiple LLM providers, set all applicable environment variables.

### Fallback: Using OAI_CONFIG_LIST

If individual environment variables are not set, AG2 will fall back to using an environment variable called `OAI_CONFIG_LIST` in JSON format, which stores the LLM keys. `OAI_CONFIG_LIST` is a list of dictionaries where each dictionary contains:

- `model` (required): The name of the LLM model.
- `api_key` (optional): The API key for the LLM model.
- `api_type` (optional): The type of the provider (e.g. "azure", "google", "openai").
- `api_version` (optional): The Azure API version (if needed).
- `base_url` (optional): The custom base URL for the model endpoint.
- `tags` (optional): A list of tags used for filtering credentials.

Example `OAI_CONFIG_LIST` in JSON:

```json
[
    {
        "model": "gpt-4o",
        "api_key": "<your_api_key>",
        "tags": ["gpt-4o", "tool", "vision"]
    },
    {
        "model": "gpt-5-nano",
        "api_key": "<your_api_key>",
        "tags": ["gpt-5-nano", "tool", "vision"]
    },
    {
        "api_type": "google",
        "model": "gemini-pro",
        "api_key": "<your_gemini_api_key>"
    }
]
```

You can provide `OAI_CONFIG_LIST` as an environment variable directly:

```bash
export OAI_CONFIG_LIST='[{"api_type": "openai", "model": "gpt-4o","api_key": "<your_api_key>","tags": ["gpt-4o"]}, ...]'
```

Or as a file and set its path:

```bash
export OAI_CONFIG_LIST="/path/to/OAI_CONFIG_LIST.json"
```

!!! tip
    When developing locally or in CI environments, **always prefer setting individual environment variables for LLM keys first.** Use `OAI_CONFIG_LIST` for advanced configurations or as a fallback if the direct keys are unavailable.
    Learn more about `OAI_CONFIG_LIST` [here](/docs/user-guide/advanced-concepts/llm-configuration-deep-dive).

## Setting up the Development Environment

To contribute to the AG2 project, AG2 provides three different methods to set up the development environment:

<Tabs>
  <Tab title="Dev Containers">
  1. Setup the necessary LLM keys as mentioned above in your terminal.
  2. Clone the AG2 repository and cd into the repository.
  3. Open the project in Visual Studio Code by running the following command from the root of the repository:
    ```bash
    code .
    ```
  4. Press `Ctrl+Shift+P` and select `Dev Containers: Reopen in Container`.
  5. Select the desired python environment and wait for the container to build.
  6. Once the container is built, you can start developing AG2.
  </Tab>
  <Tab title="Codespaces">
  1. Open the AG2 repository on GitHub and fork the repository.
  2. Navigate to Settings -> Secrets and variables -> Codespaces.
  3. Add the necessary LLM keys as mentioned above by clicking on the `New repository secret` button.
  4. Navigate back to the forked repository.
  5. Click on the `Code` button and select `Open with Codespaces`.
  6. Once the container is built, you can start developing AG2.
  </Tab>
  <Tab title="Virtual Environment">
  1. Setup the necessary LLM keys as mentioned above in your terminal.
  2. Fork the AG2 repository and clone the forked repository.
  3. Create a virtual environment by running the following command from the root of the repository:
      ```bash
      python3 -m venv venv
      ```
  4. Activate the virtual environment by running the following command:
      ```bash
      source venv/bin/activate
      ```
  5. Install the required dependencies by running the following command:
      ```bash
      pip install -e ".[dev]" && pre-commit install
      ```
  6. Once the dependencies are installed, you can start developing AG2.
  </Tab>
</Tabs>


## Verifying the Development Environment

To make sure that we have set up the development environment correctly, we can run the pre-commit hooks and tests.

To run the pre-commit hooks, run the following command:

```bash
pre-commit run --all-files
```

To run the non-llm tests, run the following command:

```bash
bash scripts/test-core-skip-llm.sh
```
 